<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Access4 – Ver 6.5 (Step 5.15.3 rotation testing)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <style>
        body { font-family: monospace; max-width: 900px; margin: auto; padding: 12px; }
        button { margin: 6px 0; }
        pre { background: #f4f4f4; padding: 10px; white-space: pre-wrap; }
        #passwordBox { display:none; margin-top:16px; }
        #titleGesture {
            user-select:none;
            -webkit-user-select:none;
            -webkit-touch-callout:none;
            cursor: pointer;
        }
    </style>

    <script src="https://accounts.google.com/gsi/client" async defer></script>
</head>

<body>

    <h2 id="titleGesture">Access4 – Ver 6.5 (Step 5.15.3 rotation testing)</h2>

    <div>
        Signed in as: <b><span id="userEmail">Not signed in</span></b><br>
        <button id="signinBtn">Sign in with Google</button>
        <button id="logoutBtn" disabled>Logout</button>
    </div>

    <div id="passwordBox">
        <h3>Device Password</h3>
        <input id="passwordInput" type="password" style="width:100%" />
        <button id="unlockBtn">Unlock</button>
    </div>

    <button id="resetBioBtn">Reset Biometric</button>

    <br/>
    <button onclick="testStep5_1()">Test Step 5.1</button>
    <button onclick="testStep5_15_3()">Test Step 5_15_3</button>
    <br/>
    <button onclick="testNormalizePublicKey()">Test Phase 2A.2 – Normalize Public Key</button>
    <br/>
    <button onclick="testStep2A_fullRegistryPipeline()">Test Step 2A.4.3 — Registry Pipeline</button>
    <br/>
    <button onclick="testStep2B_1()">Test Step 2B.1 – Lock discovery</button>
    <button onclick="testStep2B_2()">Test Step 2B.2 – Lock acquisition</button>
    <button onclick="testStep2B_3()">Test Step 2B.3 – Lock heartbeat</button>
    <br/>
    <button onclick="releaseDriveLock()">Release Write Lock</button>
    <button onclick="testStep2C_2()">Test Step 2C.2 — Lock-bound write</button>
    <br/>
    <h3>Log</h3>
    <pre id="log"></pre>

    <script src="app.js"></script>
</body>
</html>
